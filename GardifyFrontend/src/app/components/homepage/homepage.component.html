<div class="wrapper {{mode}}">
  <div *ngIf="!isLoggedIn" class="">
    <!---->
    <div id="carouselImage" class="d-none d-md-block carousel slide" data-ride="carousel" data-interval="70000">
      <ol class="carousel-indicators" style="bottom: 8px;">
        <li data-target="#carouselImage" data-slide-to="0" class="active"></li>
        <li data-target="#carouselImage" data-slide-to="1"></li>
      </ol>
      <div class="carousel-inner ">
        <div class="carousel-item active d-none d-lg-block">
          <div class="col-lg-12 px-0">
            <picture>
              <source media="(max-width: 768px)" srcset="./assets/images/21_JBY6943_Header_mobil.jpg">
              <img class="d-block w-100 " src="./assets/images/21_JBY6943_Header_Desktop.jpg" alt=" Slide">
              <span class="img-cred">FOTO: JÜRGEN BECKER - DESIGN UND GARTEN: PETER JANKE</span>
            </picture>
          </div>
      <!---   <div class="videoBox">
            <div class="d-none d-md-block">
                                
              <div *ngIf="!showVid" class="btn-video text-center" alt="Gardify in 60 Sekunden">
                  <img class="imgBlock" src="./assets/images/gardify_60sec.png" (click)="showVid = !showVid">
              </div>
            </div>
          </div>--> 
          <div *ngIf="showCaption" style="display:block; float:left; top: 80px" class="whiteBox {{mode}}">            
            <div class="text-container" style="width: 349px;">
              <button *ngIf="showVid" title="Ausblenden" class="hidevid-btn" (click)="showVid = !showVid">&times;</button>
              <iframe *ngIf="showVid" width="560" height="315" src="https://www.youtube.com/embed/zOc18eOb9Fg?autoplay=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              <h2 class="t-bold t-20 ">
                Ökologisch und smart Gärtnern mit gardify<sup>&reg;</sup>
              </h2>

              <p  class=" t-14 pb-4">
               <span class="t-med"> Pflegen, Schneiden, Düngen, Säen, Ernten, Überwintern ...</span><br><br>
               Was, wann und wie sagt dir gardify<sup>&reg;</sup> – mit ökologischem Ansatz. Füge deine Pflanzen in deinen virtuellen Garten ein und gardify erstellt dir automatisch deinen persönlichen To-Do-Kalender! Auf gardify kannst du Pflanzen per Foto bestimmen, Pflanzen finden, einen Ökoscan deines Gartens machen, ortsgenaue Frostwarnungen erhalten, den Pflanzen-Doc und unser Wissenschafts-Team um Rat fragen und vieles mehr! Jetzt registrieren, um alle Funktionen nutzen zu können! <strong>Die Nutzung der Website ist kostenlos.</strong>
              </p>
             
            </div>
            <div>
              <div *ngIf="!showVid" class="btn-video text-center" alt="Gardify in 60 Sekunden">
                <img style="width:364px;position:absolute;top:75px;right:25px;"class="imgBlock" src="./assets/images/Video_mit_Button.png" (click)="showVid = !showVid">
              </div>
              <div style="position: absolute;bottom:50px;left: 50%;">
                <ng-template [ngTemplateOutlet]="layout"></ng-template>
              </div>
            </div>
            
         


          </div>
          <div *ngIf="!showCaption" class="carousel-caption whiteBox {{mode}} d-none d-block">
            <button title="Ausblenden" class="hideCap-btn" (click)="showCaption = !showCaption">&times;</button>
            <div class="row">
              <div class="text-container">
                <h2 class="t-boldy t-20 text-center">
                  gardify<sup>&reg;</sup>-smarter gärtnern
                </h2>

                <p *ngIf="!isTestRegistration" class="t-reg t-14 text-center pb-4">
                  Schön, dass du gardify<sup>&reg;</sup> nutzen möchtest. Nach der einfachen Registrierung kannst du alle wichtigen Funktionen nutzen. Finde deine Pflanzen mit der Suchfunktion und speichere sie in deinem virtuellen Garten. 
                  Ab sofort erhältst du termingenaue Pflegehinweise für deine Pflanzen und aktuelle Wetterwarnungen für deinen Standort.  <strong>Die Nutzung ist kostenlos</strong> und du erfährst wie ökologisch dein Garten ist.
                </p>
                <p *ngIf="isTestRegistration" class="t-reg t-14 text-center pb-4">
                
                  Schön, dass du gardify<sup>&reg;</sup> testen möchtest. Du kannst alle wichtigen Funktionen ohne Registrierung nutzen, deine Einstellungen werden allerdings nur für 48 Stunden gespeichert. Finde deine Pflanzen mit der Suchfunktion 
                  und speichere sie in deinem virtuellen Garten. Du erhälst termingenaue Pflegehinweise für deine Pflanzen und aktuelle Wetterwarnungen für deinen Standort. Um deinen angelegten Garten künftig weiterhin nutzen zu können, musst du dich registrieren. <strong>Nutzung ist kostenlos</strong> und du erfährst wie ökologisch dein Garten ist!

                </p>
                <button *ngIf="showVid" title="Ausblenden" class="hidevid-btn" (click)="showVid = !showVid">&times;</button>
                <iframe *ngIf="showVid" width="560" height="315" src="https://www.youtube.com/embed/zOc18eOb9Fg?autoplay=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                <div class="d-none d-md-block">
                                    
                  <div *ngIf="!showVid" class="btn-video text-center" alt="Gardify in 60 Sekunden">
                      <img class="imgBlock" src="./assets/images/gardify_60sec.png" (click)="showVid = !showVid">
                  </div>
                  <p *ngIf="!showVid" class="t-bold t-14 float-right mp"><a data-toggle="collapse" data-target="#bibliographie">gardify<sup>&reg;</sup> in 60 Sekunden. Einfach auf das Bild von Markus klicken</a></p>
              </div>
              <div id="bibliographie" class="collapse pt-5">
                <p class="t-reg t-14 pt-5">
                  Dr. Markus Phlippen, Diplom Biologe, wissenschaftlicher Leiter von gardify<sup>&reg;</sup>, TV-Moderator, Gartenexperte für die ARD, WDR, MDR und Buchautor.<br><br>
                  Markus Phlippen studierte Biologie in Bonn, Sydney und Wales (UK). Er promovierte auf dem Gebiet der Neurobiologie bei Meerestieren. Seit 2001 steht er 
                  als Moderator für Gartenthemen vor der Kamera. Von 2004 bis 2014 war er das prägende Gesicht des „ARD Ratgeber Haus + Garten“. Phlippen berichtete in über 200 Filmen aus mehr als 15 Ländern über die Vielfalt der Gartenkunst sowie Natur- und Umweltthemen. 
                  Seit 2015 führt er zudem Wissenschaftsprojekte zum Klimawandel an Schulen durch. Fachfilme zum Gartenbau und botanische Reiseleitungen runden das botanische Sendungsbewusstsein ab. Für die Zukunft des Themas „Garten“ wünscht er sich, dass die junge Generation 
                  diesen noch mehr für sich entdeckt: „In England ist das ganz selbstverständlich, da geht man am Samstagabend in den Club, und am Sonntagmorgen werden die Rosen geschnitten.“ Phlippen lebt mit seiner Familie in Haus und Garten bei Bonn.
                <br><br>
                Sein Credo: „Jeder Garten hilft der Natur“. Und deshalb engagiert er sich auch bei gardify® für ökologisch richtiges Gärtnern. Dabei geht es ihm nicht um von 0 auf 100 von heute auf morgen, sondern darum, mit kleinen Schritten anzufangen und Spaß dran zu finden.

                </p>
              </div>
                <p class="t-reg t-14 {{showVid?'pt-4':'pt-5'}}">
                  <span class="t-bold t-14">Was ist wann im Garten zu tun und wie macht man‘s richtig?</span>
                  Einfach deine Pflanzenliste erstellen und ab sofort alle Pflegehinweise bekommen. Pflanzen, 
                  die du nicht kennst, kannst du mit gardify<sup>&reg;</sup> per Foto bestimmen. gardify<sup>&reg;</sup> hilft dir, alles mühelos
                   zu organisieren und nichts zu vergessen! Und gardify<sup>&reg;</sup> ist kostenlos.<br>
                  <button (click)="toggle()" class=" btn t-bold t-14 text-green btnAbsolute mt-1 pt-1"
                    *ngIf="show"><i>Hier erfährst du mehr …</i></button>

                </p>
                <p class="t-reg t-14 pt-5" *ngIf="show">
                  Viel Spaß im Garten oder auf dem Balkon!
                </p>
                <div *ngIf="!show" class="t-reg t-14">
                  <p>Neben dem „was, wann und wie“ kannst du auch …</p>
                  <ul>
                    <li>
                      <span class="t-bold">ökologische Aspekte</span> in deinem Garten überprüfen
                    </li>
                    <li>
                      Fotos von <span class="t-bold">Pflanzenkrankheiten</span> an unser Expertenteam schicken
                    </li>
                    <li>
                      <span class="t-bold">Frost- und Sturmwarnungen</span> bekommen
                    </li>
                    <li>
                      <span class="t-bold">Pflanzen</span> nach genau 270 Kriterien für deinen <span
                        class="t-bold">Garten</span> suchen
                    </li>
                    <li>
                      <span class="t-bold">neue Pflanzen</span> zur Erfassung <span class="t-bold">vorschlagen</span>
                    </li>
                    <li>
                      selbst Fotos, Filme und Veranstaltungen schicken
                    </li>
                    <li>
                      dich mit anderen <span class="t-bold">Gartenfans austauschen</span>
                    </li>
                  </ul><br>
                </div>
                <div id="accordion" class="mt-4" *ngIf="!show">

                  <div id="behindGard">
                    <h5 class="mb-0">
                      <a class=" collapsed" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true"
                        aria-controls="collapseOne">
                        <ul class="ml-minus1">
                          <li routerLink="/start" class="mb-3 t-reg t-14 text-green ptr t-italic t-bold">
                            Quickstartanleitung
                          </li>
                          <li class="t-reg t-14 text-green t-italic t-bold">
                            Was steckt hinter gardify<sup>&reg;</sup>?
                          </li>
                        </ul>
                      </a>
                    </h5>
                  </div>

                  <div id="collapseOne" class="collapse" aria-labelledby="behindGard" data-parent="#accordion">
                    <p class="t-14 t-reg">
                      Diplombiologe und TV-Moderator Dr. Markus Phlippen zeichnet – in Zusammenarbeit 
                      mit einem Expertenteam aus Gärtnern, Wissenschaftlern, Programmierern und Spezialisten 
                      aus Ratgeberverlagen – verantwortlich für die fachlichen Inhalte. Zu den langfristigen 
                      Zielen von gardify<sup>&reg;</sup> zählt die Schaffung einer finanziell unabhängigen Plattform, die auf faire Weise notwendiges, redaktionell aufbereitetes Gartenwissen zur Verfügung stellt.
                      <br>
                      Das gardify<sup>&reg;</sup>-Team geht dabei davon aus, dass die Bedeutung privater Gärten für Artenschutz und 
                      Artenvielfalt angesichts der ständig fortschreitenden Industrialisierung der Landflächen noch mal deutlich zunehmen wird. Gärtnern soll deshalb einfacher und Schritt für Schritt auch ökologischer werden. 

                    </p>

                    <ul class="t-reg t-14">
                      Dafür arbeitet gardify<sup>&reg;</sup> an folgenden Projekten:
                      <li>
                        Eine allgemein zugängliche Pflanzendatenbank nach neuestem
                        wissenschaftlichen Stand
                      </li>
                      <li>
                        Herstellerneutrale Empfehlungen (bezahlte Anzeigen sind 
                        gekennzeichnet)
                      </li>
                      <li>
                        Aufbau einer wissenschaftlich betreuten Community
                      </li>
                    </ul>
                    <p class="t-14 t-reg text-primary t-italic">Die Pflanzendatenbank wird fortlaufend mit wissenschaftlich geprüften Inhalten ausgebaut. Wenn Euch Pflanzen fehlen, könnt Ihr diese gern <u><a  data-toggle="modal" data-target="#suggest">vorschlagen</a></u>!</p>
                  <br>
                  <p class="t-14 t-reg text-primary t-italic">
                    Für das mögliche Auftreten von technischen Problemen in der aktuellen Betaversion bitten wie Euch um Verständnis. Wir freuen uns über eure <a href="mailto:team@gardify.de"><u>Hinweise</u></a> und Verbesserungsvorschläge!
                  </p>
                  </div>

                  <div>
                    <div class="" id="headingTwo">
                      <h5 class="mb-0">
                        <a class=" collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false"
                          aria-controls="collapseTwo">
                          <ul class="ml-minus1">
                            <li class=" t-14 text-green t-italic t-bold">
                              Wie finanziert sich gardify<sup>&reg;</sup>?
                            </li>
                          </ul>
                        </a>
                      </h5>
                    </div>
                    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
                      <p class="t-reg t-14">
                        Zur Zeit verfügt gardify<sup>&reg;</sup> noch über keine Einnahmen und wird von
                        Projektbeteiligten getragen. Die Kosten sollen über drei Modelle langfristig refi nanziert
                        werden:

                      </p>
                      <ul class="t-reg t-14">
                        <li>
                          Gekennzeichnete Werbung
                        </li>
                        <li>
                          Shop mit redaktionell geprüfte Produkte
                        </li>
                        <li>
                          Premium-Inhalten wie How-to-do-Filmen, gartenrelavanten Kochrezepten vom Profi, Wetter-Features, Nutzgarten-Spezialwissen etc.
                        </li>
                      </ul>
                      <p class="t-reg t-14">
                        Mittelfristig soll sich gardify<sup>&reg;</sup> selbst tragen und auch profitabel werden.
                      </p>
                    </div>
                  </div>
                  <div>
                    <div id="headingThree">
                      <h5 class="mb-0">
                        <a class=" collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false"
                          aria-controls="collapseThree">
                          <ul class="ml-minus1">
                            <li class="t-reg t-14 text-green t-italic t-bold">
                              Stimmen zu gardify<sup>&reg;</sup>
                            </li>
                          </ul>
                        </a>
                      </h5>
                    </div>
                    <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
                      <p class="t-reg t-14">
                        In Kürze werden wir hier die ersten Statements zu gardify<sup>&reg;</sup>
                        veröffentlichen.<br>
                        <span class="text-primary t-italic">Auch deine Meinung interessiert uns. Wir freuen uns auf deine Kritik!</span>
                      </p>
                    </div>
                  </div>
                </div>
                <div class="pt-3">
                  <p class="t-14 t-reg">
                    <span> Wir freuen uns auf Eure Anregungen und den Austausch!</span>
                  </p>
                  <p class="t-15 t-reg"> <a  [routerLink]="['/register']"><u>Jetzt kostenlos registrieren!</u></a></p>
                  <h3 class="t-15 t-reg text-primary"> <a class="text-green" data-toggle="collapse" data-target="#login">Warum registrieren?</a></h3>
                  
                </div>
                <div id="login" class="collapse">
                  <p class="t-14 t-reg">
                    <span class="t-bold">
                      Ohne Anmeldung: <br>
                    </span>
                    News, Pflanzensuche, Fotoerkennung und Shop sind ohne Anmeldung nutzbar. 
                  </p>
                  <p class="t-14 t-reg">
                    <span class="t-bold">
                      Anmeldung erforderlich: <br>
                    </span>
                    Für die Speicherung der Pflanzenliste für deinen eigenen Garten, deinen To-Do-Pflanzenpflege-Kalender und die Interaktion mit dem Gartenwetter ist eine geografische Zuordnung und eine Speicherung deiner Daten für dich notwendig. Eine einfache Anmeldung genügt − mit Username, Kennwort und Postleitzahl. Auch der Austausch mit unseren Experten und mit der Community ist so möglich.
                    <br>
                   Alle genannten Bereiche sind kostenlos und ohne jede Verpflichtung nutzbar.
                  </p>
                  <p class="t-14 t-reg">
                    <span class="t-bold">
                      Vollständige Anmeldung: <br>
                    </span>
                    Für die Bestellungen im Shop und später für unsere Premiumangebote ist die vollständige Anmeldung mit realem Namen und Postadresse notwendig.
                    <br>
                  </p>
                  <p class="t-14 t-reg">
                    <span class="t-bold">
                      Datenschutz <br>
                    </span>
                    Der Schutz deiner Daten ist uns wichtig. <br>
                    Die Hinweise dazu findest du <a class="text-green" routerLink="/datenschutz">hier</a>.
                    <br>
                  </p>
                </div>
                 <!--
                  <div class="mt-5">
                  <h2 class="t-bold t-14 mb-3">Videos - die Top 4!</h2>
                  <div class="row">
                    <div class="col-6">
                      <a href="https://www.youtube.com/watch?v=ikmI3PKivnA&hd=1" target="_blank">
                        <img src="./assets/images/Video_lay1.jpg" class="vid-thumbnail" alt="Pflanzenschnitt">
                      </a>
                      <p class="thumbnail-text">Pflanzenschnitt</p>
                    </div>
                    <div class="col-6">
                      <a href="https://www.youtube.com/watch?v=ikmI3PKivnA&hd=1" target="_blank">
                        <img src="./assets/images/Video_lay2.jpg" class="vid-thumbnail" alt="Gemüseanbau">
                      </a>
                      <p class="thumbnail-text">Gemüseanbau</p>
                    </div>
                    <div class="col-6">
                      <a href="https://www.youtube.com/watch?v=ikmI3PKivnA&hd=1" target="_blank">
                        <img src="./assets/images/Video_lay3.jpg" class="vid-thumbnail" alt="Stecklinge">
                      </a>
                      <p class="thumbnail-text">Stecklinge</p>
                    </div>
                    <div class="col-6">
                      <a href="https://www.youtube.com/watch?v=ikmI3PKivnA&hd=1" target="_blank">
                        <img src="./assets/images/Video_lay4.jpg" class="vid-thumbnail" alt="Herbstschnitt Lavendel">
                      </a>
                      <p class="thumbnail-text">Herbstschnitt Lavendel</p>
                    </div>
                  </div>
                  <h2 class="t-bold t-14 mt-3">
                    <a href="https://www.youtube.com/watch?v=ikmI3PKivnA&hd=1" target="_blank">>> Weitere Videos</a>
                  </h2>
                </div>
                 -->
              </div></div>
            </div>
          </div>

          <div class="carousel-caption d-block d-lg-none">
            <img class="logo-mobile" src="./assets/images/Logo.svg" alt="Gardify Logo">
          </div>
        </div>

        <div class="carousel-item">
          <img class="d-block w-100 carouselImage" src="./assets/images/_JAY9125_Header_Desktop.jpg"
            alt="Dritte Slide">
            <span class="img-cred">FOTO: JÜRGEN BECKER - DESIGN UND GARTEN: IN GOEDE AARDE</span>
        </div>
      </div>
    </div>
  </div>
  <!--ifMobile-->
  <div class="container {{mode}} d-block d-lg-none {{mode==='light'?'text-darkgrey':'text-white'}} mb-3">
    <div class="row justify-content-center">
      <h2 class="bt-border  {{mode==='light'?'text-darkgrey':'text-white'}}"></h2>
      <ng-template [ngTemplateOutlet]="layout"></ng-template>
   
      <span class="t-11 t-bold ml-3">www.gardify.de ist für alle Nutzer kostenlos</span>
      <span class="t-11 ml-3">App und Premiumversion sind in Vorbereitung (2020/2021)</span>
    
    </div>
    
  </div>
  <!--News Section-->
  <div class="container pt-3 {{mode}} d-block {{mode==='light'?'text-darkgrey':'text-white'}}">
    <h5 routerLink="/news" class="ptr pb-2 t-reg t-18 bt-border {{mode}} {{mode==='light'?'text-darkgrey':'text-white'}}">News</h5>
    <div class="row col-12">
      <span class="t-light {{mode==='dark'?'text-white':'text-blackish'}}" [ngClass]="{'t-19': isMobile, 't-27': !isMobile}">
         <a (click)= "showInstaPosts()" [ngClass]="{'text-green t-bold': showInstapost, 'text-blackish t-reg': !showInstapost}">Garten News</a> 
        <div class="d-inline-block" style="border-left: 1px solid #666; margin-left: 1rem;
        margin-right: 1rem;
        height: 30px;"></div>
        <a [ngClass]="{'text-green t-bold': !showInstapost, 'text-blackish t-reg': showInstapost}" (click)="hideInstaPosts()">Gardify News</a></span>
    </div>
    <ng-container *ngIf="newsList && !showInstapost" >
      <div *ngFor="let article of newsList; let last = last; let i = index">
        <ng-container *ngIf="((i) % 6) == 0 && i > 0" >
          <app-ad [ad]="ad" ></app-ad>
        </ng-container>
        <div class="row py-4 {{mode}}" [ngClass]="{'bt-border': !last}">
          <div *ngIf="article.EntryImages.length>0" class="col-12 col-lg-4">
            <img class="news-img ptr" [routerLink]="['/news/', article.Id, article.Title]" [src]="toUrl(article.EntryImages[0]?.SrcAttr || null)" [alt]=article.Title>
          </div>
          <div class="col-12 col-lg-7 offset-md-1">
            <h3 class="t-light t-13 text-grey">{{article.Date | date:'dd.MM.yyyy'}}</h3>  
            <h2 [routerLink]="['/news/', article.Id, article.Title]" class="t-bold t-18 ptr">{{article.Title}}</h2>
            <h2 [routerLink]="['/news/', article.Id, article.Title]" class="t-light t-italic t-18 ptr">{{article.SubTitle}}</h2>
            <p>
              <span class="t-light t-13 {{mode === 'light'? 'text-blackish' : 'text-white'}}" [innerHTML]="article.Text.substr(0,400)"></span>
              <a [routerLink]="['/news/', article.Id, article.Title]" class="t-bold">...mehr</a>
            </p>
          </div>
        </div>
        
      </div>
      <div class="row">
        <div class="col d-flex justify-content-center justify-content-md-end">
          <ul *ngIf="newsPager.pages && newsPager.pages.length" class="t-13 t-light pagination float-right mt-2 text-grey2">
            <li [ngClass]="{disabled:currentPage === 1}">
                <a (click)="currentPage = 1;  getAllNews(1); " title="Erste Seite" class="t-bold">&lt;&lt;</a>
            </li>
            <li [ngClass]="{disabled:currentPage === 1}">
                <a (click)="currentPage = currentPage-1;  getAllNews(currentPage); " title="Vorherige Seite" class="t-bold mx-2">&lt;</a>
            </li>
            <li *ngFor="let page of  newsPager.pages" [ngClass]="{'text-green t-bold':currentPage === page}" class="mx-2">
                <a (click)="currentPage = page; getAllNews(currentPage); ">{{page}}</a>
            </li>
            <li [ngClass]="{disabled:currentPage === newsPager.totalPages}">
                <a (click)="currentPage = currentPage+1;  getAllNews(currentPage); " title="Nächste Seite" class="t-bold mx-2">&gt;</a>
            </li>
            <li [ngClass]="{disabled:currentPage ===  newsPager.totalPages}">
                <a (click)="currentPage=newsPager.totalPages;  getAllNews(newsPager.totalPages); " class="t-bold" title="Letzte Seite">&gt;&gt;</a>
            </li>
          </ul>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="instaPostList && showInstapost ">
      <div *ngFor="let post of instaPostList; let i = index">
        <ng-container *ngIf="((i) % 6) == 0 && i > 0" >
          <app-ad [ad]="ad" ></app-ad>
        </ng-container>
          <div class="row py-4 bt-border {{mode}}">
              <div class="col-12 col-md-12 col-lg-4">
                <div class="row">
                  <div class="col">
                    <a data-toggle="modal" data-target="#newsImageModal" (click)="newsImageModal = ''; newsImageModal = post.MediaEntry; selectedPost=post">
                      <img *ngIf="post.Media_Type =='IMAGE'" style="max-height: 400px;"  class="ptr post" [src]="post.MediaEntry" alt="image">
                      <img *ngIf="post.Media_Type =='CAROUSEL_ALBUM'" style="max-height: 400px;" class="ptr post" [src]="post.MediaEntry" alt="image">
                      <span *ngIf="post.Media_Type =='VIDEO'">
                        <video controls width="330" height="250" [src]="post.MediaEntry" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></video>
                      </span>
                    </a>
                    
                  </div>
                </div>

              </div>
              <div class="col-12 col-md-12 col-lg-7 offset-md-1">
                <h3 class="t-light t-13 text-grey">{{post.Date | date:'dd.MM.yyyy'}}</h3>  
                <p >
                    <span class="t-light t-13  {{mode === 'light'? 'text-blackish' : 'text-white'}}" [innerHTML]="post.Expanded? (post.Text.replace(myRegex4,replacegrp) | safeHtml ): (post.Text.replace(myRegex4,replacegrp).substring(0,200)+'...') | safeHtml ">
                    </span>
                    <span class="ptr mx-1 text-green t-bold" (click)="post.Expanded = !post.Expanded;" role="button">
                      {{post.Expanded?'weniger':'mehr'}}
                    </span>
                   
                  </p>
              </div>
          </div>
      </div>
      <div class="row">
        <div class="col d-flex justify-content-center justify-content-md-end">
          <ul *ngIf="instaNewsPager.pages && instaNewsPager.pages.length" class="t-13 t-light pagination float-right mt-2 text-grey2">
            <li [ngClass]="{disabled:currentPage === 1}">
                <a (click)="currentPage = 1;  getInstaPosts(1); " title="Erste Seite" class="t-bold">&lt;&lt;</a>
            </li>
            <li [ngClass]="{disabled:currentPage === 1}">
                <a (click)="currentPage = currentPage-1;  getInstaPosts(currentPage); " title="Vorherige Seite" class="t-bold mx-2">&lt;</a>
            </li>
            <li *ngFor="let page of  instaNewsPager.pages" [ngClass]="{'text-green t-bold':currentPage === page}" class="mx-2">
                <a (click)="currentPage = page; getInstaPosts(currentPage); ">{{page}}</a>
            </li>
            <li [ngClass]="{disabled:currentPage === instaNewsPager.totalPages}">
                <a (click)="currentPage = currentPage+1;  getInstaPosts(currentPage); " title="Nächste Seite" class="t-bold mx-2">&gt;</a>
            </li>
            <li [ngClass]="{disabled:currentPage ===  instaNewsPager.totalPages}">
                <a (click)="currentPage=instaNewsPager.totalPages;  getInstaPosts(instaNewsPager.totalPages); " class="t-bold" title="Letzte Seite">&gt;&gt;</a>
            </li>
          </ul>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="selectedPost">
      <div class="modal fade" id="newsImageModal" tabindex="-1" role="dialog" aria-labelledby="newsImageModal" aria-hidden="true">
        <div class="modal-dialog" role="document" style="max-width: 600px;">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <img *ngIf="selectedPost.Media_Type =='IMAGE'"  class="ptr post " [src]="selectedPost.MediaEntry" alt="image">
              <img *ngIf="selectedPost.Media_Type =='CAROUSEL_ALBUM'"  class="ptr post" [src]="selectedPost.MediaEntry" alt="image">
              <span *ngIf="selectedPost.Media_Type =='VIDEO'">
                <video controls width="330" height="250" [src]="selectedPost.MediaEntry" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></video>
              </span>            
            </div>
          </div>
        </div>
      </div>
    </ng-container>
    <ng-template #noNews>
      <div class="row">
        <div class="col-12 text-center">
          <div class="app-loading">
            <svg class="spinner position-relative" viewBox="25 25 50 50">
              <circle class="path" cx="50" cy="50" r="16" fill="none" stroke-width="2" stroke-miterlimit="10" />
            </svg>
          </div>
        </div>
      </div>
    </ng-template>
  </div>

  <!--Tipps Section-->
  <div class="container {{mode}} {{mode==='light'?'text-darkgrey':'text-white'}} news-section d-none d-lg-block pt-3">
    <h5 class="mb-1 pb-2 t-reg t-18 bt-border {{mode}} {{mode==='light'?'text-darkgrey':'text-white'}}">Aktuelle Tipps</h5>
    <div class="container px-1 mt-4 pb-5">
      <div *ngIf="actualTipps?.length>0;else noTipps" id="tippsCarousel" class="carousel slide" data-ride="carousel" data-interval="6000">
        <div class="carousel-inner pb-5 d-none d-md-block">
          <div class="carousel-item active" style="height:210px">
            <div class="row pt-1 pb-5 justify-content-between" *ngIf="actualTipps">
              <div *ngFor="let item of actualTipps | slice:0:4" class="col-6 col-md-3 text-center" [routerLink]="['/artikel/',item.Id,item.Name]" >
                  <img class="actualTipp-article ptr" [src]=toUrl(item.ArticleImages[0]?.SrcAttr) [alt]="item.Name" (click)="createLastViewvedArt(item.Id)">
                <h3 href="#" class="t-13 mt-2 mb-1 tipp-text ">{{item.Name}}</h3>
              </div>
            </div>
          </div>
          <div class="carousel-item" style="height:210px">
            <div class="row pt-1 pb-5 justify-content-between" *ngIf="actualTipps">
              <div *ngFor="let item of actualTipps | slice:4" class="col-6 col-md-3 text-center" [routerLink]="'/artikel/'+item.Id" >
                  <img class="actualTipp-article ptr" [src]=toUrl(item.ArticleImages[0]?.SrcAttr) [alt]="item.Name" (click)="createLastViewvedArt(item.Id)">
                <h3 href="#" class="t-13 mt-2 mb-1 tipp-text ">{{item.Name}}</h3>
              </div>
            </div>
          </div>
        </div>
    
        <a class="carousel-control-prev" href="#tippsCarousel" role="button" data-slide="prev" style="top:-80px;">
          <span class="carousel-control-prev {{mode}}" aria-hidden="true"></span>
          <span><img src="./assets/images/pfeilL1.svg" width="80"></span>
        </a>
        <a class="carousel-control-next" href="#tippsCarousel" role="button" data-slide="next" style="top:-80px;">
          <span class="carousel-control-next {{mode}}" aria-hidden="true"></span>
          <span><img src="./assets/images/pfeilR1.svg" width="80"></span>
        </a>
     
    </div>
    <ng-template #noTipps>
      <div class="row">
        <div class="col-12 text-center">
          <div class="app-loading">
            <svg class="spinner position-relative" viewBox="25 25 50 50">
              <circle class="path" cx="50" cy="50" r="16" fill="none" stroke-width="2" stroke-miterlimit="10" />
            </svg>
          </div>
        </div>
      </div>
    </ng-template>
    
  </div>
</div>
  <!--Tipps Section Mobile-->
<div class="container {{mode}} {{mode==='light'?'text-darkgrey':'text-white'}} news-section d-block d-lg-none">
  <h5 class="pt-3 mb-1 pb-2 t-reg t-18 bt-border">Aktuelle
    Tipps</h5>
  <div class="container px-1 mt-4 pb-5">
    <div id="tippsCarousel3" class="carousel slide" data-ride="carousel" data-interval="0">

      <div class="carousel-inner">
        <div class="carousel-item active" style="height:210px">
          <div class="row pt-1 pb-5 justify-content-between" *ngIf="actualTipps">
            <div *ngFor="let item of actualTipps | slice:0:2" class="col-6 col-md-3 text-center" [routerLink]="'/artikel/'+item.Id" >
                <img class="actualTipp-article ptr" [src]=toUrl(item.ArticleImages[0]?.SrcAttr) [alt]="item.Name" (click)="createLastViewvedArt(item.Id)">
              <h3 href="#" class="t-13 mt-2 mb-1 tipp-text ">{{item.Name}}</h3>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="height:210px">
          <div class="row pt-1 pb-5 justify-content-between" *ngIf="actualTipps">
            <div *ngFor="let item of actualTipps | slice:2:4" class="col-6 col-md-3 text-center" [routerLink]="'/artikel/'+item.Id" >
                <img class="actualTipp-article ptr" [src]=toUrl(item.ArticleImages[0]?.SrcAttr) [alt]="item.Name" (click)="createLastViewvedArt(item.Id)">
              <h3 href="#" class="t-13 mt-2 mb-1 tipp-text ">{{item.Name}}</h3>
            </div>
          </div>
        </div>
      </div>
      <a class="carousel-control-prev" href="#tippsCarousel3" role="button" data-slide="prev" style="top:-80px;">
        <span class="carousel-control-prev {{mode}}" aria-hidden="true"></span>
        <span><img class="" src="./assets/images/pfeilL1.svg" width="60"></span>
      </a>
      <a class="carousel-control-next" href="#tippsCarousel3" role="button" data-slide="next" style="top:-80px;">
        <span class="carousel-control-next {{mode}}" aria-hidden="true"></span>
        <span><img class="" src="./assets/images/pfeilR1.svg" width="60"></span>
      </a>

    </div>
  </div>
</div>
<ng-template #layout>
  <div *ngIf="!isLoggedIn" id="accordionbox" class="text-container">
    <div class="card btn_border075 mt-2 card-width" >
      <div class="card-header" id="headingLogin" class="btn_border075" style="background-color: #93b34c; height: 40px;" data-toggle="collapse" data-target="#collapseLogin" aria-expanded="true" aria-controls="collapseLogin">
        <h5 class="mb-0 text-white ml-3 mt-2 t-14 t-reg">
          Login
        </h5>
        <img class="togglebtn" src="./assets/images/Pfeil_Button_Login.svg"> 
      </div>
  
      <div id="collapseLogin" class="collapse btn_border075 {{pageMode == 'lg' ? 'show' : ''}}" aria-labelledby="headingLogin" data-parent="#accordionbox">
        <div class="card-body btn_border075">
          <app-login></app-login>
        </div>
      </div>
    </div>
  
    <div class="card btn_border075 mt-2 card-width">
      <div class="card-header" id="headingReg" class="btn_border075" style="background-color: #a7b758; height: 40px;" data-toggle="collapse" data-target="#collapseReg" aria-expanded="false" aria-controls="collapseReg">
        <h5 class="mb-0 text-white ml-3 mt-2 t-14 t-reg">
          Neu-Registrierung
        </h5>
        <img class="togglebtn" src="./assets/images/Pfeil_Button_Neu_Registrierung.svg"> 
      </div>
  
      <div id="collapseReg" class="collapse btn_border075 {{pageMode == 'rg' ? 'show' : ''}}" aria-labelledby="headingReg" data-parent="#accordionbox">
        <div class="card-body btn_border075">
          <app-register></app-register>
        </div>
      </div>
    </div>
    <div class="card btn_border075 mt-2 card-width">
      <div class="card-header relative" id="headingDemo" class="btn_border075" style="background-color: #7db2aa; height: 40px;"  data-toggle="collapse" data-target="#collapseDemo" aria-expanded="false" aria-controls="collapseDemo">
        <h5 class="mb-0 text-white ml-3 mt-2 t-14 t-reg">
          Demo-Login
        </h5>
        <div class="vl"> 
           <h5 class="mb-0 text-white ml-3 t-10 t-light">
             Auto-Löschung <br> nach 48 Stunden
            </h5>
        </div>
        <img class="togglebtn" src="./assets/images/Pfeil_Button_Demo_Login.svg"> 
      </div>
  
      <div id="collapseDemo" class="collapse btn_border075 {{pageMode == 'dm' ? 'show' : ''}}" aria-labelledby="headingDemo" data-parent="#accordionbox">
        <div class="card-body btn_border075">
          <div class="">
            <div class="row justify-content-center">
              <div class="BoxReg pt-2">
                <form  class="form-horizontal px-3" id="regi" [formGroup]="demoregistrationForm" (ngSubmit)="registerDemotest()" validate>
               <div  class="row mb-3">
                    <p class="t-reg t-14 ml-2">
                      Über den Demo-Login kannst du 48
                      Stunden alle Funktionen testen und
                      deine Eintragungen speichern.
                    </p>
                   
                  </div>
                  <div  class="row mb-3">
                    <div class="col-12 col-md-6">
                      <select formControlName="Country" [class.borderDanger]="f['Country'].invalid" class="form-control t-10 t-light">
                        <option hidden value="" disabled selected>Land auswählen *</option>
                        <option [ngValue]="'Deutschland'">Deutschland</option>
                        <option [ngValue]="'Österreich'">Österreich</option>
                        <option [ngValue]="'Schweiz'">Schweiz</option>
                      </select>
                    </div>
                    <div class="col-12 col-md-6">
                      <input type="number" min="0" formControlName="PLZ" [class.borderDanger]="f['PLZ'].invalid" class="form-control t-10 t-light" placeholder="PLZ *">
                    </div>
                  </div>
                  <div class="form-group row mb-4">
                    <div class="col-6">
                      <span class="t-10 t-reg">*Pflichtangaben</span>
                     </div>
                    <div class="col-6">
                      <div class="float-right">
                        <button   type="submit" class="mx-2 btn btn-green btnProp btn_border075 t-bold text-white t-12 d-inline-block ">Demo-Login</button>
                        <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card btn_border075 mt-2 card-width">
      <div class="card-header" data-toggle="collapse" data-target="#collapseTour" class="btn_border075 ptr" style="background-color: #5b7878; height: 40px;">
        <h5 class="mb-0 text-white ml-3 mt-2 t-14 t-reg">
          Guided Tour
        </h5>
        <div class="vl"> 
           <h5 class="mb-0 text-white ml-3 t-10 t-light" style="vertical-align: middle; display: inline;">
             Ohne Anmeldung
            </h5>
        </div>
        <img class="togglebtn" src="./assets/images/Pfeil_Button_Guided_Tour.svg"> 
      </div>
      <div id="collapseTour" class="collapse btn_border075 t-13 p-3 text-center" data-parent="#accordionbox">
        <p>
          Willkommen bei der gardify® Guided Tour. Hier bekommt ihr eine kurze Einführung in die wichtigsten Funktionen. 
        </p>
        <button type="button" (click)="startTour()" style="background-color: #44835b;" class="btn btn_border075 text-white">Tour jetzt starten</button>
      </div>
    </div>
    
  </div>
</ng-template>