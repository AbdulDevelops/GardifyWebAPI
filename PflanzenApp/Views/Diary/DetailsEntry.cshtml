@model GardifyModels.Models.DiaryViewModels.DiaryEntryViewModel

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Details</h2>

@if (Model != null)
{
	<table class="table">		
			<tr>
				<td style="width: 20%;">
					<div class="image-wrapper">
						@if (Model.EntryImages != null && Model.EntryImages.Any())
						{
							<div class="title-image">
								<img title="@Model.EntryImages.FirstOrDefault().TitleAttr" src="@Model.EntryImages.FirstOrDefault().SrcAttr" />
							</div>
							foreach (var img in Model.EntryImages.Skip(1))
							{
								<div class="thumbnail col-md-4">
									<img title="@img.TitleAttr" src="@img.SrcAttr" />
								</div>
							}
						}
					</div>

				</td>
				<td style="width: 70%;">
					<h2>@Html.DisplayFor(modelItem => Model.Title)</h2>
					<br />
					<b>@Html.DisplayFor(modelItem => Model.Date)</b>
					<br />
					@Html.DisplayFor(modelItem => Model.Description)

				</td>
			</tr>
	</table>
}
<p>
    @Html.ActionLink("Bearbeiten", "EditEntry", new { id = Model.Id })
	@using (Html.BeginForm("copy-diary-to-forum", "Diary"))
	{
		@Html.AntiForgeryToken()
		@Html.Hidden("diaryEntryId", Model.Id)
		<input type="submit" class="btn btn-default" value="Eintrag veröffentlichen" />
	}
</p>
