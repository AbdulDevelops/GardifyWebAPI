@model GardifyModels.Models.ForumViewModels.ForumThreadViewModel

<div class="forum-thread-wrapper" style="position:relative">
	<div class="loading-div">
		<img src="~/Images/ajax_loader_gray_48.gif" title="Loading..." />
		<p>Loading...</p>
	</div>
	@if (Model.ThreadHeader != null)
	{
		<div class="forum-thread-header row">
			<h2>@Model.ThreadHeader.Title</h2>
			<span>Erstellt von: @Model.ThreadHeader.AuthorName am @Model.ThreadHeader.CreatedDate</span>
		</div>
		<hr />
		if (Model.RelatedPosts != null && Model.RelatedPosts.Any())
		{
			<div class="forum-thread-posts">
				@foreach (var post in Model.RelatedPosts)
				{
					<div class="post">
						<span>Geschrieben von: <a href="@Url.Action("Public", "Profile", new { id = post.AuthorUrl })">@post.AuthorName</a> am @post.CreatedDate</span>
						<p>@Html.Raw(post.Content)</p>
					</div>
					<hr />
				}
			</div>
		}
		else
		{
			<p>Noch keine Posts vorhanden</p>
		}
		<div class="forum-thread-new-post form-horizontal">
			<p>Post schreiben</p>
			<div class="form-group">
				<label class="control-label col-md-2">Ihre Nachricht</label>
				<div class="col-md-10">
					<textarea class="form-control" name="postcontent" rows="2" cols="80"></textarea>
				</div>
			</div>
			<div class="form-group">
				<div class="col-md-offset-2 col-md-10">
					<span data-headerid="@Model.ThreadHeader.Id" class="btn btn-default add-post-btn">Senden</span>
				</div>
			</div>
		</div>
	}	
</div>
